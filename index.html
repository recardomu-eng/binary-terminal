<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Binary Pro Elite - Full Terminal</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { 
            --bg: #0b0e11; --card: #151a21; --accent: #007aff; 
            --success: #0ecb81; --danger: #f6465d; --grid: #1e2329; 
            --text-main: #ffffff; --text-muted: #848e9c;
        }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text-main); margin: 0; display: flex; height: 100vh; overflow: hidden; }

        /* HEADER */
        .header { position: absolute; top: 0; left: 0; right: 0; height: 65px; display: flex; align-items: center; justify-content: space-between; padding: 0 25px; background: var(--card); border-bottom: 1px solid var(--grid); z-index: 100; }
        .user-profile { display: flex; align-items: center; gap: 12px; cursor: pointer; padding: 5px 10px; border-radius: 8px; transition: 0.2s; }
        .avatar { width: 35px; height: 35px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 2px solid var(--grid); }
        .user-status { font-size: 10px; color: var(--success); font-weight: 800; text-transform: uppercase; }
        
        .header-controls { display: flex; gap: 10px; align-items: center; }
        .balance-box { background: rgba(14, 203, 129, 0.1); border: 1px solid var(--success); color: var(--success); padding: 7px 18px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 15px; }
        .withdraw-btn { background: rgba(0, 122, 255, 0.1); border: 1px solid var(--accent); color: var(--accent); padding: 7px 18px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 14px; transition: 0.2s; border: 1px solid var(--accent); }
        .withdraw-btn:hover { background: var(--accent); color: white; }

        /* LAYOUT */
        .wrapper { display: flex; width: 100%; height: 100vh; padding-top: 65px; box-sizing: border-box; }
        .left-menu { width: 260px; background: var(--card); border-right: 1px solid var(--grid); padding: 15px; }
        .center-chart { flex: 1; position: relative; background: #080a0d; cursor: crosshair; }
        .right-stats { width: 260px; background: var(--card); border-left: 1px solid var(--grid); padding: 15px; }

        .nav-btn { padding: 14px; margin-bottom: 6px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: 0.2s; font-size: 13px; color: var(--text-muted); border: 1px solid transparent; }
        .nav-btn.active { background: rgba(0, 122, 255, 0.1); border-color: var(--accent); color: white; }

        /* TRADE PANEL */
        .trade-panel { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); background: var(--card); padding: 18px 25px; border-radius: 20px; border: 1px solid var(--grid); display: flex; gap: 20px; align-items: center; z-index: 100; box-shadow: 0 15px 50px rgba(0,0,0,0.6); }
        .input-group { display: flex; flex-direction: column; gap: 5px; }
        .input-group label { font-size: 9px; color: var(--text-muted); font-weight: 800; text-transform: uppercase; }
        .t-input { background: #0b0e11; border: 1px solid var(--grid); color: white; padding: 10px; border-radius: 8px; width: 90px; outline: none; font-weight: bold; }
        
        .btn-action { padding: 12px 35px; border-radius: 10px; border: none; font-weight: 800; cursor: pointer; text-transform: uppercase; transition: 0.2s; }
        .btn-up { background: var(--success); color: white; }
        .btn-down { background: var(--danger); color: white; }

        /* ACTIVE POSITION MARKER */
        #active-trade-card { position: absolute; bottom: 30px; left: 20px; width: 180px; background: var(--card); border: 1px solid var(--accent); border-radius: 16px; padding: 15px; display: none; z-index: 200; }
        .card-timer { background: rgba(0, 122, 255, 0.1); color: var(--accent); padding: 8px; border-radius: 8px; text-align: center; font-family: monospace; font-size: 22px; margin-top: 10px; font-weight: bold; }

        /* MODALS */
        .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 1000; align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        .modal-card { background: var(--card); padding: 35px; border-radius: 28px; border: 1px solid var(--grid); width: 380px; text-align: center; }
        .crypto-item { background: var(--bg); padding: 15px; border-radius: 12px; margin-top: 12px; cursor: pointer; border: 1px solid var(--grid); text-align: left; }
        .id-badge { background: rgba(0, 122, 255, 0.15); color: var(--accent); padding: 12px; border-radius: 10px; font-family: monospace; font-size: 18px; font-weight: 800; margin: 20px 0; border: 1px dashed var(--accent); }

        #price-label { position: absolute; right: 0; background: var(--accent); color: white; padding: 4px 12px; font-size: 14px; font-weight: bold; border-radius: 6px 0 0 6px; z-index: 50; box-shadow: 0 0 20px rgba(0,122,255,0.4); }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

        /* DISCLAIMER ICON */
        #disclaimer-icon { position: fixed; bottom: 15px; right: 15px; width: 22px; height: 22px; background: var(--grid); color: var(--text-muted); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; cursor: pointer; z-index: 9999; border: 1px solid var(--grid); transition: 0.3s; }
        #disclaimer-icon:hover { background: var(--accent); color: white; border-color: var(--accent); }
    </style>
</head>
<body>

    <div id="auth-modal" class="modal-overlay" style="display: flex; z-index: 2000;">
        <div class="modal-card">
            <h2 style="margin-bottom:20px">TERMINAL LOGIN</h2>
            <input type="email" id="auth-email" class="t-input" style="width:100%; margin-bottom:12px; box-sizing:border-box" placeholder="Email">
            <input type="password" id="auth-pass" class="t-input" style="width:100%; margin-bottom:20px; box-sizing:border-box" placeholder="Password">
            <button class="btn-action btn-up" style="width:100%" onclick="handleAuth()">–í–û–ô–¢–ò</button>
        </div>
    </div>

    <div id="deposit-modal" class="modal-overlay">
        <div class="modal-card">
            <h3 style="margin-top:0">–ü–û–ü–û–õ–ù–ï–ù–ò–ï</h3>
            <div class="crypto-item" onclick="copyAddr('bc1qxhq07qh5qnfly8n2mwm99jarw5tjcxwuvz248c')">
                <b style="color:#f7931a">Bitcoin (BTC)</b><br>
                <small>bc1qxhq07qh5qnfly8n2mwm99jarw5tjcxwuvz248c</small>
            </div>
            <div class="crypto-item" onclick="copyAddr('UQBTTYmiLQCee3C9T9yHQN8EflmXWNp1DN4BlKj1dJCbpAk-')">
                <b style="color:#0088cc">TON Coin</b><br>
                <small>UQBTTYmiLQCee3C9T9yHQN8EflmXWNp1DN4BlKj1dJCbpAk-</small>
            </div>
            <div class="id-badge" id="dep-id-text">ID: TX-0000</div>
            <input type="number" id="dep-sum" class="t-input" style="width:100%; margin-bottom:15px; box-sizing:border-box" placeholder="–°—É–º–º–∞ –≤ $">
            <button class="btn-action btn-up" style="width:100%" onclick="sendRequest()">–Ø –û–ü–õ–ê–¢–ò–õ</button>
            <button onclick="closeModal('deposit-modal')" style="background:none; border:none; color:var(--text-muted); margin-top:15px; cursor:pointer">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <div id="withdraw-modal" class="modal-overlay">
        <div class="modal-card">
            <h3 style="margin-top:0">–í–´–í–û–î –°–†–ï–î–°–¢–í</h3>
            <p style="font-size: 11px; color: var(--text-muted); margin-bottom: 20px;">–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –∫–æ—à–µ–ª–µ–∫ –≤ —Ç–æ–Ω–∞—Ö (TON)</p>
            <input type="text" id="withdraw-wallet" class="t-input" style="width:100%; margin-bottom:12px; box-sizing:border-box" placeholder="–ê–¥—Ä–µ—Å TON –∫–æ—à–µ–ª—å–∫–∞">
            <input type="number" id="withdraw-sum" class="t-input" style="width:100%; margin-bottom:20px; box-sizing:border-box" placeholder="–°—É–º–º–∞ –≤ $">
            <button class="btn-action btn-up" style="width:100%" onclick="sendWithdrawRequest()">–°–û–ó–î–ê–¢–¨ –ó–ê–Ø–í–ö–£</button>
            <button onclick="closeModal('withdraw-modal')" style="background:none; border:none; color:var(--text-muted); margin-top:15px; cursor:pointer">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <div id="admin-modal" class="modal-overlay">
        <div class="modal-card" style="width:500px">
            <h3>–ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø</h3>
            <div id="admin-list" style="text-align:left; max-height:400px; overflow-y:auto"></div>
            <button onclick="closeModal('admin-modal')" class="btn-action btn-down" style="width:100%; margin-top:20px">–ó–ê–ö–†–´–¢–¨</button>
        </div>
    </div>

    <div class="header">
        <div class="user-profile">
            <div class="avatar" id="user-av">?</div>
            <div class="user-info">
                <span id="user-name-label" style="font-weight:700">Guest</span>
                <span class="user-status" onclick="openAdmin()" style="cursor:pointer">VIP TRADER</span>
            </div>
        </div>
        <div style="font-weight:900; font-size:22px">BINARY<span style="color:var(--accent)">PRO</span></div>
        <div class="header-controls">
            <div class="withdraw-btn" onclick="openWithdraw()">–í–´–í–ï–°–¢–ò</div>
            <div class="balance-box" onclick="openDeposit()">üí∞ $<span id="balance-val">0.00</span></div>
        </div>
    </div>

    <div class="wrapper">
        <div class="left-menu">
            <div class="nav-btn active" onclick="changePair('EUR/USD', 1.0854, this)">üá™üá∫ EUR / USD</div>
            <div class="nav-btn" onclick="changePair('BTC/USD', 64230, this)">‚Çø BTC / USD</div>
        </div>
        <div class="center-chart">
            <div id="price-label">0.0000</div>
            <canvas id="mainCanvas"></canvas>
            <div id="active-trade-card">
                <div style="font-size:10px; color:var(--text-muted)">ACTIVE POSITION</div>
                <div id="trade-dir-label" style="font-size:20px; font-weight:900;">CALL</div>
                <div class="card-timer" id="trade-timer">00:00</div>
            </div>
            <div class="trade-panel">
                <div class="input-group"><label>Amount</label><input type="number" id="trade-amount" class="t-input" value="100"></div>
                <div class="input-group"><label>Time</label><select id="trade-time" class="t-input"><option value="1">1 MIN</option></select></div>
                <button class="btn-action btn-up" onclick="execTrade('UP')">Higher</button>
                <button class="btn-action btn-down" onclick="execTrade('DOWN')">Lower</button>
            </div>
        </div>
        <div class="right-stats">
            <div style="font-size:11px; font-weight:800; color:var(--text-muted); margin-bottom:15px">LIVE FEED</div>
            <div id="live-feed"></div>
        </div>
    </div>

    <div id="disclaimer-icon" onclick="alert('–≠—Ç–æ —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è.')" onmouseover="document.getElementById('disclaimer-text').style.display='block'" onmouseout="document.getElementById('disclaimer-text').style.display='none'">
        i
        <div id="disclaimer-text" style="display: none; position: absolute; bottom: 30px; right: 0; width: 220px; background: var(--card); color: var(--text-muted); padding: 12px; border-radius: 10px; border: 1px solid var(--grid); font-size: 10px; line-height: 1.4; pointer-events: none; text-align: left;">
            <b>–û–¢–ö–ê–ó –û–¢ –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–ò:</b><br>
            –î–∞–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å —è–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º —Å–∏–º—É–ª—è—Ç–æ—Ä–æ–º. –ú—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è.
        </div>
    </div>

    <script>
        const ADMIN_EMAIL = "admin@gmail.com"; 
        let balance = 0, curPrice = 1.0854, candles = [], activeTrade = null, currentUser = null;
        const canvas = document.getElementById('mainCanvas'), ctx = canvas.getContext('2d');

        function handleAuth() {
            const email = document.getElementById('auth-email').value;
            const pass = document.getElementById('auth-pass').value;
            if(!email.includes('@')) return alert("Invalid Email");
            let user = JSON.parse(localStorage.getItem('up_user_' + email));
            if(user) {
                if(user.pass !== pass) return alert("Wrong Password");
                currentUser = user; balance = user.balance;
            } else {
                currentUser = { email, pass, balance: 0, name: email.split('@')[0] };
                balance = 0; saveUser();
            }
            document.getElementById('auth-modal').style.display = 'none';
            updateUI(); generateInitialData(curPrice); draw();
        }

        function saveUser() { if(currentUser) { currentUser.balance = balance; localStorage.setItem('up_user_' + currentUser.email, JSON.stringify(currentUser)); } }
        function updateUI() { document.getElementById('balance-val').innerText = balance.toFixed(2); document.getElementById('user-name-label').innerText = currentUser.name; document.getElementById('user-av').innerText = currentUser.name[0].toUpperCase(); }
        
        function openDeposit() { 
            const id = "TX-" + Math.floor(1000 + Math.random()*8999);
            document.getElementById('dep-id-text').innerText = "COMMENT: " + id;
            document.getElementById('deposit-modal').style.display = 'flex';
        }

        function openWithdraw() { document.getElementById('withdraw-modal').style.display = 'flex'; }

        function sendWithdrawRequest() {
            const sum = parseFloat(document.getElementById('withdraw-sum').value);
            const wallet = document.getElementById('withdraw-wallet').value;
            if(!sum || sum <= 0 || sum > balance || !wallet) return alert("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –±–∞–ª–∞–Ω—Å");
            balance -= sum; updateUI(); saveUser();
            let reqs = JSON.parse(localStorage.getItem('admin_reqs') || "[]");
            reqs.push({ type: 'WITHDRAW', email: currentUser.email, amount: sum, id: "TON: " + wallet, time: new Date().toLocaleTimeString() });
            localStorage.setItem('admin_reqs', JSON.stringify(reqs));
            alert("–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ —Å–æ–∑–¥–∞–Ω–∞!"); closeModal('withdraw-modal');
        }

        function sendRequest() {
            const sum = parseFloat(document.getElementById('dep-sum').value);
            if(!sum || sum <= 0) return alert("Enter sum");
            let reqs = JSON.parse(localStorage.getItem('admin_reqs') || "[]");
            reqs.push({ type: 'DEPOSIT', email: currentUser.email, amount: sum, id: document.getElementById('dep-id-text').innerText, time: new Date().toLocaleTimeString() });
            localStorage.setItem('admin_reqs', JSON.stringify(reqs));
            alert("–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!"); closeModal('deposit-modal');
        }

        function openAdmin() {
            if (!currentUser || currentUser.email !== ADMIN_EMAIL) return;
            const list = document.getElementById('admin-list');
            const reqs = JSON.parse(localStorage.getItem('admin_reqs') || "[]");
            list.innerHTML = reqs.length ? '' : '<p>–ù–µ—Ç –∑–∞—è–≤–æ–∫</p>';
            reqs.forEach((r, i) => {
                const color = r.type === 'WITHDRAW' ? 'var(--danger)' : 'var(--success)';
                list.innerHTML += `<div style="background:var(--bg); padding:15px; border-radius:10px; margin-bottom:10px; border:1px solid var(--grid)">
                    <b style="color:${color}">${r.type}</b> | <b>${r.email}</b> | $${r.amount}<br><small>${r.id}</small><br>
                    ${r.type === 'DEPOSIT' ? `<button onclick="approve(${i})" style="background:var(--success); color:white; border:none; padding:8px; border-radius:5px; margin-top:10px; cursor:pointer">–ü–û–î–¢–í–ï–†–î–ò–¢–¨</button>` : ''}
                    <button onclick="reject(${i})" style="background:var(--danger); color:white; border:none; padding:8px; border-radius:5px; cursor:pointer">–£–î–ê–õ–ò–¢–¨</button>
                </div>`;
            });
            document.getElementById('admin-modal').style.display = 'flex';
        }

        function approve(idx) {
            let reqs = JSON.parse(localStorage.getItem('admin_reqs'));
            let r = reqs[idx];
            let user = JSON.parse(localStorage.getItem('up_user_' + r.email));
            user.balance += r.amount;
            localStorage.setItem('up_user_' + r.email, JSON.stringify(user));
            if(currentUser.email === r.email) { balance = user.balance; updateUI(); }
            reqs.splice(idx, 1);
            localStorage.setItem('admin_reqs', JSON.stringify(reqs));
            openAdmin();
        }

        function reject(idx) {
            let reqs = JSON.parse(localStorage.getItem('admin_reqs'));
            reqs.splice(idx, 1);
            localStorage.setItem('admin_reqs', JSON.stringify(reqs));
            openAdmin();
        }

        function generateInitialData(p) {
            candles = []; let tp = p;
            for(let i=0; i<100; i++) {
                let o = tp, c = o + (Math.random()-0.5)*0.001;
                candles.push({open:o, close:c, high:Math.max(o,c)+0.0005, low:Math.min(o,c)-0.0005});
                tp = c;
            }
        }

        function draw() {
            canvas.width = canvas.parentElement.offsetWidth; canvas.height = canvas.parentElement.offsetHeight;
            let last = candles[candles.length-1];
            curPrice += (Math.random()-0.5)*0.0001; last.close = curPrice;
            if(Math.random()>0.97) candles.push({open:curPrice, close:curPrice, high:curPrice, low:curPrice});
            if(candles.length > 120) candles.shift();

            let vis = candles.slice(-60);
            let minP = Math.min(...vis.map(c=>c.low)), maxP = Math.max(...vis.map(c=>c.high)), range = maxP - minP;
            const getY = (p) => canvas.height - ((p-(minP-range*0.1))/(range*1.2)*canvas.height);

            ctx.clearRect(0,0,canvas.width,canvas.height);
            ctx.strokeStyle = '#1e2329';
            for(let i=1; i<10; i++) { ctx.beginPath(); ctx.moveTo(0,canvas.height/10*i); ctx.lineTo(canvas.width,canvas.height/10*i); ctx.stroke(); }

            candles.forEach((c, i) => {
                let x = (i*15) + (canvas.width - candles.length*15) - 50;
                ctx.strokeStyle = c.close >= c.open ? '#0ecb81' : '#f6465d'; ctx.lineWidth = 2;
                ctx.beginPath(); ctx.moveTo(x+5, getY(c.high)); ctx.lineTo(x+5, getY(c.low)); ctx.stroke();
                ctx.fillStyle = ctx.strokeStyle;
                ctx.fillRect(x, Math.min(getY(c.open), getY(c.close)), 10, Math.max(1, Math.abs(getY(c.open)-getY(c.close))));
            });

            if(activeTrade) {
                ctx.setLineDash([5, 5]); ctx.strokeStyle = activeTrade.type === 'UP' ? '#0ecb81' : '#f6465d';
                ctx.beginPath(); ctx.moveTo(0, getY(activeTrade.entry)); ctx.lineTo(canvas.width, getY(activeTrade.entry)); ctx.stroke();
                ctx.setLineDash([]);
            }

            document.getElementById('price-label').style.top = (getY(curPrice)-15)+'px';
            document.getElementById('price-label').innerText = curPrice.toFixed(4);
            requestAnimationFrame(draw);
        }

        function execTrade(dir) {
            if(activeTrade) return;
            let amt = parseFloat(document.getElementById('trade-amount').value);
            if(amt > balance) return alert("No funds");
            balance -= amt; updateUI(); saveUser();
            activeTrade = { type: dir, entry: curPrice, sec: 60 };
            document.getElementById('active-trade-card').style.display = 'block';
            document.getElementById('trade-dir-label').innerText = dir === 'UP' ? 'CALL' : 'PUT';
            document.getElementById('trade-dir-label').style.color = dir === 'UP' ? 'var(--success)' : 'var(--danger)';
            let t = setInterval(() => {
                activeTrade.sec--;
                document.getElementById('trade-timer').innerText = `00:${activeTrade.sec < 10 ? '0' : ''}${activeTrade.sec}`;
                if(activeTrade.sec <= 0) {
                    clearInterval(t);
                    if((dir==='UP' && curPrice > activeTrade.entry) || (dir==='DOWN' && curPrice < activeTrade.entry)) { balance += amt * 1.85; confetti(); }
                    activeTrade = null; document.getElementById('active-trade-card').style.display = 'none';
                    updateUI(); saveUser();
                }
            }, 1000);
        }

        const botNames = ["Trader_Ivan", "Crypto_Queen", "Mamba_FX", "Bull_Rider", "Alex_Gold", "Elena_Binary", "Profit_Maker", "Rich_Boy", "Sergey_V", "Trade_Master", "Satoshi_N", "Wolf_of_Wall", "Oleg_T", "Dmitry_Trade", "Lucky_Punch"];
        setInterval(() => {
            const feed = document.getElementById('live-feed');
            if (!feed) return;
            const randomBot = botNames[Math.floor(Math.random() * botNames.length)];
            const tradeAmount = (Math.random() * 490 + 10).toFixed(2);
            const isWin = Math.random() > 0.40;
            const tradeItem = document.createElement('div');
            tradeItem.style.cssText = `display: flex; justify-content: space-between; font-size: 12px; padding: 8px 0; border-bottom: 1px solid var(--grid); animation: fadeIn 0.4s ease;`;
            if (isWin) {
                const profit = (tradeAmount * 1.85).toFixed(2);
                tradeItem.innerHTML = `<span style="color: var(--text-muted)">${randomBot}</span><span style="color: var(--success); font-weight: bold">+$${profit}</span>`;
            } else {
                tradeItem.innerHTML = `<span style="color: var(--text-muted)">${randomBot}</span><span style="color: var(--danger); font-weight: bold">-$${tradeAmount}</span>`;
            }
            feed.prepend(tradeItem);
            if (feed.children.length > 12) feed.lastChild.remove();
        }, 3000);

        function changePair(n, p, el) { curPrice = p; generateInitialData(p); document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active')); el.classList.add('active'); }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
        function copyAddr(a) { navigator.clipboard.writeText(a); alert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!"); }
    </script>
</body>
</html>